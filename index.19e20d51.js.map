{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-a16c05ba6e284e7a.js","node_modules/@parcel/runtime-js/lib/runtime-f99b8706adcc2430.js","node_modules/@parcel/runtime-js/lib/runtime-0f9ca2ac96690ba2.js","node_modules/@parcel/runtime-js/lib/runtime-54c5ff027636ee35.js","node_modules/@parcel/runtime-js/lib/runtime-6ad1a4d9d3f32b7a.js","src/js/index.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7bk21\\\":\\\"index.19e20d51.js\\\",\\\"7X3sg\\\":\\\"move.138deb1f.mp3\\\",\\\"kpQAu\\\":\\\"success.08c92973.mp3\\\",\\\"beX3f\\\":\\\"loser.89cc7816.mp3\\\",\\\"dR84T\\\":\\\"draw.263b5d8a.mp3\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7X3sg\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kpQAu\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"beX3f\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dR84T\")).toString();","const moveUrl = require('url:../sounds/move.mp3');\nconst winnerUrl = require('url:../sounds/success.mp3');\nconst loserUrl = require('url:../sounds/loser.mp3');\nconst drawUrl = require('url:../sounds/draw.mp3');\n\nconst board = document.querySelector('.js-board');\nconst title = document.querySelector('.js-title');\nconst button = document.querySelector('.js-button');\nconst counterTotal = document.querySelector('.js-counter-total');\nconst counterTextX = document.querySelector('.js-counter-x');\nconst counterTextO = document.querySelector('.js-counter-o');\nconst counterTextDraw = document.querySelector('.js-counter-draw');\n// const timeX = document.querySelector('.time-x');\n// // const timeO = document.querySelector('.time-o');\n// // const timeDraw = document.querySelector('.time-draw');\n\nconst checkbox = document.querySelector('.checkbox');\n\nconst winsCombination = [\n  [1, 2, 3],\n  [4, 5, 6],\n  [7, 8, 9],\n  [1, 4, 7],\n  [2, 5, 8],\n  [3, 6, 9],\n  [1, 5, 9],\n  [3, 5, 7],\n];\n\nconst moveSound = new Audio(moveUrl);\nconst winnerSound = new Audio(winnerUrl);\nconst loserSound = new Audio(loserUrl);\nconst drawSound = new Audio(drawUrl);\n\nlet isActiveSound = true;\nlet currentPlayer = 'X';\nlet historyX = [];\nlet historyO = [];\nlet cells = [];\nlet cell = '';\nlet gameOver = false;\n\nconst counterX = { value: 0 };\nconst counterO = { value: 0 };\nconst counterDraw = { value: 0 };\n\nfunction createMarkup() {\n  for (let i = 1; i < 10; i += 1) {\n    cell = `<div class=\"cell\" data-id=\"${i}\"></div>`;\n\n    board.insertAdjacentHTML('beforeend', cell);\n  }\n\n  cells = [...board.childNodes];\n}\n\ncreateMarkup();\n\nboard.addEventListener('click', onClick);\n\nfunction onClick(event) {\n  const { target } = event;\n  const id = Number(target.dataset.id);\n\n  if (target.textContent !== '' || gameOver) {\n    return;\n  }\n\n  if (\n    target.classList.contains('cell') &&\n    target.textContent === '' &&\n    currentPlayer === 'X' &&\n    !gameOver\n  ) {\n    target.textContent = currentPlayer;\n    historyX.push(id);\n    checkIsActiveSound(moveSound);\n  }\n\n  checkIsWinner();\n  paintWinner(historyX);\n\n  if (!gameOver) {\n    setTimeout(makeBotMove, 500);\n  }\n}\n\nfunction checkIsActiveSound(sound) {\n  isActiveSound ? sound.play() : sound.pause();\n}\n\nfunction isWinner(arr) {\n  return winsCombination.some(item => item.every(num => arr.includes(num)));\n}\n\nfunction paintWinner(history) {\n  for (const arr of winsCombination) {\n    const isWinningCombo = arr.every(num => history.includes(num));\n    if (isWinningCombo) {\n      for (const num of arr) {\n        const winningCell = cells.find(cell => Number(cell.dataset.id) === num);\n        winningCell.classList.add('winning-cell');\n      }\n      break;\n    }\n  }\n}\n\nfunction checkIsWinner() {\n  if (isWinner(historyX)) {\n    setWinner('Winner: X', counterX, counterTextX);\n    checkIsActiveSound(winnerSound);\n  } else if (isWinner(historyO)) {\n    setWinner('Winner: O', counterO, counterTextO);\n    checkIsActiveSound(loserSound);\n  } else if (historyX.length + historyO.length === 9) {\n    setWinner(\"It's a draw. Try again!\", counterDraw, counterTextDraw);\n    checkIsActiveSound(drawSound);\n  }\n\n  setTotalGames();\n}\n\nfunction setTotalGames() {\n  counterTotal.textContent =\n    counterX.value + counterO.value + counterDraw.value;\n}\n\n// function setWinner(str, counter, counterText, timeText) {\n//   title.textContent = str;\n//   counter.value += 1;\n//   counterText.textContent = counter.value;\n//   timeText.textContent = setWordTime(counter);\n//   gameOver = true;\n// }\n\nfunction setWinner(str, counter, counterText) {\n  title.textContent = str;\n  counter.value += 1;\n  counterText.textContent = `${counter.value} ${setWordTime(counter)}.`;\n  gameOver = true;\n}\n\nfunction setWordTime(counter) {\n  if (counter.value === 1) {\n    return 'time';\n  } else {\n    return 'times';\n  }\n}\n\nfunction makeBotMove() {\n  const emptyCells = cells.filter(cell => cell.textContent === '');\n  if (emptyCells.length > 0) {\n    const randomIndex = Math.floor(Math.random() * emptyCells.length);\n    const botCell = emptyCells[randomIndex];\n    botCell.textContent = 'O';\n    historyO.push(Number(botCell.dataset.id));\n    checkIsWinner();\n    paintWinner(historyO);\n  }\n}\n\nfunction resetGame() {\n  historyX = [];\n  historyO = [];\n  gameOver = false;\n  cell = '';\n  title.textContent = 'Who will win?';\n  cells.forEach(cell => {\n    cell.textContent = '';\n    cell.classList.remove('winning-cell');\n  });\n}\n\nbutton.addEventListener('click', onButtonClick);\n\nfunction onButtonClick() {\n  resetGame();\n}\n\ncheckbox.addEventListener('change', onChangeCheckbox);\n\nfunction onChangeCheckbox() {\n  if (checkbox.checked) {\n    isActiveSound = false;\n  } else {\n    isActiveSound = true;\n  }\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$5366573f39d65b3e$exports","URL","resolve","import","meta","url","toString","$63496c9aafd897cb$exports","$92d12760ff25dc7a$exports","$444de2b71373db54$exports","$85a5f86b715fe7db$var$board","document","querySelector","$85a5f86b715fe7db$var$title","$85a5f86b715fe7db$var$button","$85a5f86b715fe7db$var$counterTotal","$85a5f86b715fe7db$var$counterTextX","$85a5f86b715fe7db$var$counterTextO","$85a5f86b715fe7db$var$counterTextDraw","$85a5f86b715fe7db$var$checkbox","$85a5f86b715fe7db$var$winsCombination","$85a5f86b715fe7db$var$moveSound","Audio","$85a5f86b715fe7db$var$winnerSound","$85a5f86b715fe7db$var$loserSound","$85a5f86b715fe7db$var$drawSound","$85a5f86b715fe7db$var$isActiveSound","$85a5f86b715fe7db$var$historyX","$85a5f86b715fe7db$var$historyO","$85a5f86b715fe7db$var$cells","$85a5f86b715fe7db$var$cell","$85a5f86b715fe7db$var$gameOver","$85a5f86b715fe7db$var$counterX","value","$85a5f86b715fe7db$var$counterO","$85a5f86b715fe7db$var$counterDraw","$85a5f86b715fe7db$var$checkIsActiveSound","sound","play","pause","$85a5f86b715fe7db$var$isWinner","arr","some","item","every","num","includes","$85a5f86b715fe7db$var$paintWinner","history","find","cell1","Number","dataset","classList","add","$85a5f86b715fe7db$var$checkIsWinner","$85a5f86b715fe7db$var$setWinner","textContent","str","counter","counterText","$85a5f86b715fe7db$var$setWordTime","$85a5f86b715fe7db$var$makeBotMove","emptyCells","filter","cell2","botCell","Math","floor","random","push","insertAdjacentHTML","childNodes","$85a5f86b715fe7db$var$createMarkup","addEventListener","event","target","contains","setTimeout","forEach","cell3","remove","checked"],"version":3,"file":"index.19e20d51.js.map"}